#!/bin/bash

# To run predictions --> ./run_predictions
# GW is specified by CURRENT_GAMEWEEK in config.py

# Pull newest data
cd FPL-Elo-Insights
git pull
cd ..

# Run predictions for all models
#GW=$1
GW=$(python3 -c "from config import CURRENT_GAMEWEEK; print(CURRENT_GAMEWEEK)")
python3 predict.py --gameweek $GW --model V2
python3 predict.py --gameweek $GW --model V2_5
python3 predict.py --gameweek $GW --model V2_ESI
python3 predict.py --gameweek $GW --model V3

# Push new predictions
date=$(date +"%m/%d/%Y/%H:%mEST")
git add --all
git commit -m "GW$GW Predictions - $date"
git push
